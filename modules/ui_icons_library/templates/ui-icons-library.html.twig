{{ attach_library('ui_icons_library/ui_icons_library.admin') }}

{% set size = icons|length %}

<div class="ui-icons-wrapper">
  <div class="ui-icons-result">
    {% if search is empty %}
      {% if size > 0 %}
        <p>{{ 'Total of %total icons on your site.'|t({'%total': total}) }}</p>
      {% endif %}
    {% else %}
      {% if size > 0 %}
        <p>{{ 'Found %total icons for keyword: %search.'|t({'%total': total, '%search': search}) }}</p>
      {% else %}
        <p>{{ 'No icon found for keyword: %search.'|t({'%search': search}) }}</p>
      {% endif %}
    {% endif %}

    {% if search is empty and size == 0 %}
      <p>{{ 'Could not find any icon on your site, be sure to create a file `my_theme.ui_icons.yml` or `my_module.ui_icons.yml`.'|t }}</p>
    {% endif %}
  </div>

  <div class="ui-icons-grid">
    {% for icon_id, icon in icons %}
      {% set icon_pack_id = icon_id | split(':') | first %}
      {% set icon_name = icon_id | split(':') | last %}
      <div class="ui-icons-item ui-icons-item--grid">
        <div class="ui-icons-item__preview">
          <div class="thumbnail">
            {{ icon }}
          </div>
        </div>
        <div class="ui-icons-item__name">
          <b>{{ icon_name }}</b>
          {% if icon['#context']['icon_pack_label'] %}<br>{{ icon['#context']['icon_pack_label'] }}{% endif %}
          {% if icon['#group'] %}<br><em>{{ icon['#group']|capitalize }}</em>{% endif %}
        </div>
      </div>
    {% endfor %}
  </div>
</div>
