services:
  plugin.manager.icon_pack:
    class: Drupal\ui_icons\Plugin\IconPackManager
    calls:
      - [setValidator, []]
    arguments:
      [
        '@module_handler',
        '@theme_handler',
        '@cache.discovery',
        '@plugin.manager.icon_extractor',
        '%app.root%',
      ]
  Drupal\ui_icons\Plugin\IconPackManagerInterface: '@plugin.manager.icon_pack'

  plugin.manager.icon_extractor:
    class: Drupal\ui_icons\Plugin\IconExtractorPluginManager
    parent: default_plugin_manager
    arguments: ['@plugin_form.factory']
  Drupal\ui_icons\Plugin\IconExtractorInterface: '@plugin.manager.icon_extractor'

  ui_icons.twig_extension:
    class: Drupal\ui_icons\Template\IconTwigExtension
    arguments: ['@plugin.manager.icon_pack']
    tags:
      - { name: twig.extension }

  ui_icons.finder:
    class: Drupal\ui_icons\IconFinder
    autowire: true
    arguments:
      [
        '@file_url_generator',
        '@logger.channel.default',
        '%app.root%',
      ]
